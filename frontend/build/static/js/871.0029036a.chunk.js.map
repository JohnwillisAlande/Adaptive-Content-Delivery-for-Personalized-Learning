{"version":3,"file":"static/js/871.0029036a.chunk.js","mappings":"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","sources":["AdminStudentLogs.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ClipLoader from 'react-spinners/ClipLoader';\nimport { toast } from 'react-toastify';\nimport { FaArrowLeft, FaStream } from 'react-icons/fa';\nimport api from './api';\nimport { useAuth } from './context/AuthContext';\n\nconst formatDate = (value) => (value ? new Date(value).toLocaleString() : 'â€”');\nconst formatDuration = (seconds = 0) => `${Math.round((seconds || 0) / 60)} mins`;\n\nfunction AdminStudentLogs() {\n  const { studentId } = useParams();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [payload, setPayload] = useState(null);\n\n  useEffect(() => {\n    if (user?.userType !== 'Admin') {\n      toast.error('Administrators only');\n      navigate('/students', { replace: true });\n      return;\n    }\n    let active = true;\n    const loadLogs = async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(`/admin/students/${studentId}/logs`);\n        if (!active) return;\n        setPayload(data);\n      } catch (err) {\n        if (!active) return;\n        toast.error(err.response?.data?.error || 'Failed to load logs');\n        navigate(`/admin/students/${studentId}`);\n      } finally {\n        if (active) setLoading(false);\n      }\n    };\n    loadLogs();\n    return () => {\n      active = false;\n    };\n  }, [studentId, user?.userType, navigate]);\n\n  if (loading) {\n    return (\n      <div className=\"admin-teacher-logs admin-teacher-logs--loading\">\n        <ClipLoader color=\"#14b8a6\" size={46} />\n      </div>\n    );\n  }\n\n  const logs = payload?.logs || [];\n\n  return (\n    <div className=\"admin-teacher-logs\">\n      <button type=\"button\" className=\"option-btn admin-student-detail__back\" onClick={() => navigate(`/admin/students/${studentId}`)}>\n        <FaArrowLeft /> Back to Student\n      </button>\n      <header>\n        <h1><FaStream /> Interaction Logs</h1>\n        <p>Latest material interactions for this student.</p>\n      </header>\n      {logs.length === 0 ? (\n        <p className=\"muted\">No activity logs available.</p>\n      ) : (\n        <div className=\"admin-teacher-logs__list\">\n          <div className=\"admin-teacher-logs__row admin-teacher-logs__row--head\">\n            <span>Course</span>\n            <span>Format</span>\n            <span>Category</span>\n            <span>Time Spent</span>\n            <span>Completed</span>\n            <span>Timestamp</span>\n          </div>\n          {logs.map((entry) => (\n            <div key={entry.id} className=\"admin-teacher-logs__row\">\n              <span>{entry.courseTitle}</span>\n              <span>{entry.format}</span>\n              <span>{entry.category}</span>\n              <span>{formatDuration(entry.timeSpentSeconds)}</span>\n              <span>{entry.completed ? 'Yes' : 'No'}</span>\n              <span>{formatDate(entry.timestamp)}</span>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminStudentLogs;\n\n"],"names":["formatDuration","seconds","arguments","length","undefined","concat","Math","round","studentId","useParams","user","useAuth","navigate","useNavigate","loading","setLoading","useState","payload","setPayload","useEffect","userType","toast","error","replace","active","async","data","api","get","err","_err$response","_err$response$data","response","loadLogs","_jsx","className","children","ClipLoader","color","size","logs","_jsxs","type","onClick","FaArrowLeft","FaStream","map","entry","courseTitle","format","category","timeSpentSeconds","completed","value","timestamp","Date","toLocaleString","id"],"sourceRoot":""}