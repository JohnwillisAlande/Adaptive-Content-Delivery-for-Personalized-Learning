"use strict";(self.webpackChunkapex101_frontend=self.webpackChunkapex101_frontend||[]).push([[549],{549:(e,s,i)=>{i.r(s),i.d(s,{default:()=>m});var n=i(43),l=i(439),d=i(939),t=i.n(d),a=i(488),r=i(204),c=i(768),o=i(697),u=i(579);const h={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEMINI_API_KEY:"AIzaSyCrxqeqgsp8qubxzmo4Yvzzh7S7-0hzXEc",REACT_APP_GOOGLE_CLIENT_ID:"776006269077-683ndu3i60s7o3tu1bn1m1rb3mukc03u.apps.googleusercontent.com"}.REACT_APP_FILE_BASE_URL||"http://localhost:5000",v=function(){return Number((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||0).toLocaleString()},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!e)return"0 mins";const s=Math.round(e/60);return"".concat(s.toLocaleString()," mins")},j=e=>e?new Date(e).toLocaleString():"\u2014";const m=function(){var e,s,i,d,m,p,g,_,f,S,N,y,b,k,A,T,C,E,L,w,P,V,I,O,R,B,G;const{studentId:D}=(0,l.g)(),z=(0,l.Zp)(),{user:F}=(0,o.A)(),[U,W]=(0,n.useState)(!0),[q,H]=(0,n.useState)(null),[K,M]=(0,n.useState)(null);(0,n.useEffect)(()=>{if("Admin"!==(null===F||void 0===F?void 0:F.userType))return a.oR.error("Administrators only"),void z("/students",{replace:!0});let e=!0;return(async()=>{W(!0);try{const{data:s}=await c.A.get("/admin/students/".concat(D));if(!e)return;H(s)}catch(n){var s,i;if(!e)return;a.oR.error((null===(s=n.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Failed to load student details"),z("/students",{replace:!0})}finally{e&&W(!1)}})(),()=>{e=!1}},[D,null===F||void 0===F?void 0:F.userType,z]);const Q=null===q||void 0===q?void 0:q.student,X=(null===q||void 0===q?void 0:q.courses)||[],Y=(0,n.useMemo)(()=>null!==Q&&void 0!==Q&&Q.featureVector?Object.entries(Q.featureVector):[],[null===Q||void 0===Q?void 0:Q.featureVector]);return U?(0,u.jsx)("div",{className:"admin-student-detail admin-student-detail--loading",children:(0,u.jsx)(t(),{color:"#14b8a6",size:46})}):Q?(0,u.jsxs)("div",{className:"admin-student-detail admin-teacher-detail",children:[(0,u.jsxs)("button",{type:"button",className:"option-btn admin-student-detail__back",onClick:()=>z("/students"),children:[(0,u.jsx)(r.QVr,{})," Back to Students"]}),(0,u.jsxs)("div",{className:"admin-teacher-detail__hero",children:[(0,u.jsxs)("div",{className:"admin-student-detail__identity",children:[(0,u.jsx)("img",{src:(J=Q.image,J?J.startsWith("http")?J:J.startsWith("/uploaded_files")?"".concat(h).concat(J):"".concat(h,"/uploaded_files/").concat(J):"/images/pic-2.jpg"),alt:Q.name}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"admin-course-analytics__eyebrow",children:"Student Profile"}),(0,u.jsx)("h1",{children:Q.name}),(0,u.jsx)("p",{children:Q.email}),(0,u.jsxs)("p",{className:"muted",children:["Joined ",j(Q.registeredAt)," \xb7 Last seen ",j(Q.lastActiveAt)," \xb7"," ",Q.online?"Online":"Offline"]})]})]}),(0,u.jsxs)("div",{className:"admin-student-detail__hero-stats",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Courses Enrolled"}),(0,u.jsx)("strong",{children:v(Q.courseCount)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Total XP"}),(0,u.jsx)("strong",{children:v(null!==(e=null===(s=Q.gamification)||void 0===s?void 0:s.xp)&&void 0!==e?e:0)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Learning Style"}),(0,u.jsx)("strong",{children:Q.learningStyleLabel||"Not predicted"})]})]})]}),(0,u.jsxs)("div",{className:"admin-teacher-detail__grid",children:[(0,u.jsxs)("article",{children:[(0,u.jsxs)("h2",{children:[(0,u.jsx)(r.lHQ,{})," Gamification"]}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Login Streak"}),(0,u.jsxs)("strong",{children:[null!==(i=null===(d=Q.gamification)||void 0===d||null===(m=d.loginStreak)||void 0===m?void 0:m.count)&&void 0!==i?i:0," days (Best ",null!==(p=null===(g=Q.gamification)||void 0===g||null===(_=g.loginStreak)||void 0===_?void 0:_.longest)&&void 0!==p?p:0,")"]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Lesson Streak"}),(0,u.jsxs)("strong",{children:[null!==(f=null===(S=Q.gamification)||void 0===S||null===(N=S.lessonStreak)||void 0===N?void 0:N.count)&&void 0!==f?f:0," days (Best ",null!==(y=null===(b=Q.gamification)||void 0===b||null===(k=b.lessonStreak)||void 0===k?void 0:k.longest)&&void 0!==y?y:0,")"]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Daily Goal"}),(0,u.jsxs)("strong",{children:["Lessons ",null!==(A=null===(T=Q.gamification)||void 0===T||null===(C=T.dailyGoal)||void 0===C?void 0:C.lessonsCompletedToday)&&void 0!==A?A:0,"/",null!==(E=null===(L=Q.gamification)||void 0===L||null===(w=L.dailyGoal)||void 0===w?void 0:w.lessonsTarget)&&void 0!==E?E:1]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Badges"}),(0,u.jsx)("strong",{children:null!==(P=null===(V=Q.gamification)||void 0===V||null===(I=V.badges)||void 0===I?void 0:I.length)&&void 0!==P?P:0})]})]})]}),(0,u.jsxs)("article",{children:[(0,u.jsxs)("h2",{children:[(0,u.jsx)(r.mFx,{})," Learning Style"]}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Perception"}),(0,u.jsx)("strong",{children:null!==(O=Q.learningStyle)&&void 0!==O&&O.is_intuitive?"Intuitive":"Sensory"})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Input"}),(0,u.jsx)("strong",{children:null!==(R=Q.learningStyle)&&void 0!==R&&R.is_verbal?"Verbal":"Visual"})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Processing"}),(0,u.jsx)("strong",{children:null!==(B=Q.learningStyle)&&void 0!==B&&B.is_reflective?"Reflective":"Active"})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Understanding"}),(0,u.jsx)("strong",{children:null!==(G=Q.learningStyle)&&void 0!==G&&G.is_global?"Global":"Sequential"})]})]})]})]}),(0,u.jsxs)("section",{className:"admin-course-analytics__section",children:[(0,u.jsx)("h3",{children:"Model Inputs"}),0===Y.length?(0,u.jsx)("p",{className:"muted",children:"No feature vector recorded for this student yet."}):(0,u.jsx)("div",{className:"feature-vector-grid",children:Y.map(e=>{let[s,i]=e;return(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:s}),(0,u.jsx)("strong",{children:Number(i).toFixed(2)})]},s)})})]}),(0,u.jsxs)("section",{className:"admin-teacher-detail__courses",children:[(0,u.jsx)("div",{className:"header",children:(0,u.jsx)("h2",{children:"Enrolled Courses"})}),0===X.length?(0,u.jsx)("p",{className:"muted",children:"This student is not enrolled in any courses."}):(0,u.jsx)("div",{className:"admin-student-course-list",children:X.map(e=>{var s,i,n,l;return(0,u.jsxs)("article",{className:"admin-student-course",children:[(0,u.jsxs)("header",{className:"admin-student-course__header",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:e.title}),e.subtitle&&(0,u.jsx)("p",{children:e.subtitle})]}),(0,u.jsxs)("div",{className:"admin-student-course__metrics",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Clicks"}),(0,u.jsx)("strong",{children:v((null===(s=e.metrics)||void 0===s?void 0:s.clicks)||0)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Time Spent"}),(0,u.jsx)("strong",{children:x((null===(i=e.metrics)||void 0===i?void 0:i.totalTimeSpentSeconds)||0)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Completions"}),(0,u.jsx)("strong",{children:v((null===(n=e.metrics)||void 0===n?void 0:n.completions)||0)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Last Viewed"}),(0,u.jsx)("strong",{children:j(null===(l=e.metrics)||void 0===l?void 0:l.lastViewedAt)})]})]})]}),(0,u.jsx)("div",{className:"course-format-breakdown",children:0===e.formatBreakdown.length?(0,u.jsx)("p",{className:"muted",children:"No interactions logged for this course."}):e.formatBreakdown.map(s=>(0,u.jsxs)("div",{className:"course-format-breakdown__row",children:[(0,u.jsx)("span",{children:s.format||"Unspecified"}),(0,u.jsxs)("small",{children:[v(s.clicks)," clicks"]}),(0,u.jsx)("strong",{children:x(s.totalTimeSpentSeconds)})]},"".concat(e.id,"-").concat(s.format)))}),(0,u.jsx)("div",{className:"material-accordion",children:e.materials.map(s=>{var i,n,l,d,t;const a="".concat(e.id,":").concat(s.id),r=K===a;return(0,u.jsxs)("div",{className:"material-accordion__item".concat(r?" material-accordion__item--expanded":""),children:[(0,u.jsxs)("button",{type:"button",className:"material-accordion__header",onClick:()=>{return e=a,void M(s=>s===e?null:e);var e},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{children:s.title}),(0,u.jsxs)("p",{children:["Last viewed ",j(s.lastViewedAt)]})]}),(0,u.jsxs)("div",{className:"material-accordion__meta",children:[(0,u.jsx)("span",{children:(null===(i=s.annotations)||void 0===i?void 0:i.format)||"\u2014"}),(0,u.jsx)("span",{children:(null===(n=s.annotations)||void 0===n?void 0:n.category)||"\u2014"})]})]}),r&&(0,u.jsxs)("div",{className:"material-accordion__details",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Clicks"}),(0,u.jsx)("strong",{children:v((null===(l=s.stats)||void 0===l?void 0:l.clicks)||0)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Time Spent"}),(0,u.jsx)("strong",{children:x((null===(d=s.stats)||void 0===d?void 0:d.totalTimeSpentSeconds)||0)})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:"Last Viewed"}),(0,u.jsx)("strong",{children:j(null===(t=s.stats)||void 0===t?void 0:t.lastViewedAt)})]})]})]},a)})})]},e.id)})})]}),(0,u.jsx)("div",{className:"admin-teacher-detail__actions",children:(0,u.jsx)("button",{type:"button",className:"inline-btn",onClick:()=>z("/admin/students/".concat(D,"/logs")),children:"View Logs"})})]}):null;var J}}}]);
//# sourceMappingURL=549.761e9fc3.chunk.js.map