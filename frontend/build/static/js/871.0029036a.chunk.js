"use strict";(self.webpackChunkapex101_frontend=self.webpackChunkapex101_frontend||[]).push([[871],{871:(e,s,n)=>{n.r(s),n.d(s,{default:()=>m});var t=n(43),a=n(439),r=n(939),i=n.n(r),d=n(488),l=n(204),o=n(768),c=n(697),u=n(579);const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(Math.round((e||0)/60)," mins")};const m=function(){const{studentId:e}=(0,a.g)(),{user:s}=(0,c.A)(),n=(0,a.Zp)(),[r,m]=(0,t.useState)(!0),[p,x]=(0,t.useState)(null);if((0,t.useEffect)(()=>{if("Admin"!==(null===s||void 0===s?void 0:s.userType))return d.oR.error("Administrators only"),void n("/students",{replace:!0});let t=!0;return(async()=>{m(!0);try{const{data:s}=await o.A.get("/admin/students/".concat(e,"/logs"));if(!t)return;x(s)}catch(r){var s,a;if(!t)return;d.oR.error((null===(s=r.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to load logs"),n("/admin/students/".concat(e))}finally{t&&m(!1)}})(),()=>{t=!1}},[e,null===s||void 0===s?void 0:s.userType,n]),r)return(0,u.jsx)("div",{className:"admin-teacher-logs admin-teacher-logs--loading",children:(0,u.jsx)(i(),{color:"#14b8a6",size:46})});const j=(null===p||void 0===p?void 0:p.logs)||[];return(0,u.jsxs)("div",{className:"admin-teacher-logs",children:[(0,u.jsxs)("button",{type:"button",className:"option-btn admin-student-detail__back",onClick:()=>n("/admin/students/".concat(e)),children:[(0,u.jsx)(l.QVr,{})," Back to Student"]}),(0,u.jsxs)("header",{children:[(0,u.jsxs)("h1",{children:[(0,u.jsx)(l.ATg,{})," Interaction Logs"]}),(0,u.jsx)("p",{children:"Latest material interactions for this student."})]}),0===j.length?(0,u.jsx)("p",{className:"muted",children:"No activity logs available."}):(0,u.jsxs)("div",{className:"admin-teacher-logs__list",children:[(0,u.jsxs)("div",{className:"admin-teacher-logs__row admin-teacher-logs__row--head",children:[(0,u.jsx)("span",{children:"Course"}),(0,u.jsx)("span",{children:"Format"}),(0,u.jsx)("span",{children:"Category"}),(0,u.jsx)("span",{children:"Time Spent"}),(0,u.jsx)("span",{children:"Completed"}),(0,u.jsx)("span",{children:"Timestamp"})]}),j.map(e=>{return(0,u.jsxs)("div",{className:"admin-teacher-logs__row",children:[(0,u.jsx)("span",{children:e.courseTitle}),(0,u.jsx)("span",{children:e.format}),(0,u.jsx)("span",{children:e.category}),(0,u.jsx)("span",{children:h(e.timeSpentSeconds)}),(0,u.jsx)("span",{children:e.completed?"Yes":"No"}),(0,u.jsx)("span",{children:(s=e.timestamp,s?new Date(s).toLocaleString():"\u2014")})]},e.id);var s})]})]})}}}]);
//# sourceMappingURL=871.0029036a.chunk.js.map