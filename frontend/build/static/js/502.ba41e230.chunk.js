"use strict";(self.webpackChunkapex101_frontend=self.webpackChunkapex101_frontend||[]).push([[502],{502:(e,s,n)=>{n.r(s),n.d(s,{default:()=>p});var a=n(43),t=n(439),r=n(939),i=n.n(r),l=n(488),c=n(204),o=n(768),d=n(697),h=n(579);const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(Math.round((e||0)/60)," mins")};const p=function(){const{teacherId:e}=(0,t.g)(),{user:s}=(0,d.A)(),n=(0,t.Zp)(),[r,p]=(0,a.useState)(!0),[m,v]=(0,a.useState)(null);if((0,a.useEffect)(()=>{if("Admin"!==(null===s||void 0===s?void 0:s.userType))return l.oR.error("Administrators only"),void n("/teachers",{replace:!0});let a=!0;return(async()=>{p(!0);try{const{data:s}=await o.A.get("/admin/teachers/".concat(e,"/logs"));if(!a)return;v(s)}catch(r){var s,t;if(!a)return;l.oR.error((null===(s=r.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to load logs"),n("/admin/teachers/".concat(e))}finally{a&&p(!1)}})(),()=>{a=!1}},[e,null===s||void 0===s?void 0:s.userType,n]),r)return(0,h.jsx)("div",{className:"admin-teacher-logs admin-teacher-logs--loading",children:(0,h.jsx)(i(),{color:"#14b8a6",size:46})});const x=(null===m||void 0===m?void 0:m.logs)||[];return(0,h.jsxs)("div",{className:"admin-teacher-logs",children:[(0,h.jsxs)("button",{type:"button",className:"option-btn admin-teacher-detail__back",onClick:()=>n("/admin/teachers/".concat(e)),children:[(0,h.jsx)(c.QVr,{})," Back to Teacher"]}),(0,h.jsxs)("header",{children:[(0,h.jsxs)("h1",{children:[(0,h.jsx)(c.ATg,{})," Activity Logs"]}),(0,h.jsx)("p",{children:"Review the latest learning interactions associated with this teacher's courses."})]}),0===x.length?(0,h.jsx)("p",{className:"muted",children:"No activity logs available."}):(0,h.jsxs)("div",{className:"admin-teacher-logs__list",children:[(0,h.jsxs)("div",{className:"admin-teacher-logs__row admin-teacher-logs__row--head",children:[(0,h.jsx)("span",{children:"Course"}),(0,h.jsx)("span",{children:"Learner"}),(0,h.jsx)("span",{children:"Category"}),(0,h.jsx)("span",{children:"Time Spent"}),(0,h.jsx)("span",{children:"Completed"}),(0,h.jsx)("span",{children:"Timestamp"})]}),x.map(e=>{var s,n,a;return(0,h.jsxs)("div",{className:"admin-teacher-logs__row",children:[(0,h.jsx)("span",{children:e.courseTitle}),(0,h.jsx)("span",{children:(null===(s=e.userId)||void 0===s?void 0:s.slice(-6))||"\u2014"}),(0,h.jsx)("span",{children:(null===(n=e.annotations)||void 0===n?void 0:n.category)||"\u2014"}),(0,h.jsx)("span",{children:u(e.timeSpentSeconds)}),(0,h.jsx)("span",{children:e.completed?"Yes":"No"}),(0,h.jsx)("span",{children:(a=e.timestamp,a?new Date(a).toLocaleString():"\u2014")})]},e.id)})]})]})}}}]);
//# sourceMappingURL=502.ba41e230.chunk.js.map